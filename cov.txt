
> axiomate@0.1.0 test
> vitest run --coverage


[1m[7m[36m RUN [39m[27m[22m [36mv2.1.9 [39m[90mc:/public/workspace/axiomate-cli[39m
      [2mCoverage enabled with [22m[33mv8[39m

 [32mâœ“[39m test/services/ai/contentBuilder.test.ts [2m([22m[2m16 tests[22m[2m)[22m[90m 8[2mms[22m[39m
 [32mâœ“[39m test/services/ai/session.test.ts [2m([22m[2m44 tests[22m[2m)[22m[90m 16[2mms[22m[39m
 [32mâœ“[39m test/services/tools/matcher.test.ts [2m([22m[2m29 tests[22m[2m)[22m[90m 17[2mms[22m[39m
 [32mâœ“[39m test/utils/logWriter.test.ts [2m([22m[2m23 tests[22m[2m)[22m[90m 22[2mms[22m[39m
 [32mâœ“[39m test/services/ai/clients/openai.test.ts [2m([22m[2m18 tests[22m[2m)[22m[90m 21[2mms[22m[39m
 [32mâœ“[39m test/constants/commands.test.ts [2m([22m[2m20 tests[22m[2m)[22m[90m 15[2mms[22m[39m
 [32mâœ“[39m test/services/tools/registry.test.ts [2m([22m[2m24 tests[22m[2m)[22m[90m 33[2mms[22m[39m
 [32mâœ“[39m test/services/ai/clients/anthropic.test.ts [2m([22m[2m18 tests[22m[2m)[22m[90m 21[2mms[22m[39m
 [32mâœ“[39m test/services/ai/sessionStore.test.ts [2m([22m[2m38 tests[22m[2m)[22m[90m 17[2mms[22m[39m
 [32mâœ“[39m test/constants/colors.test.ts [2m([22m[2m25 tests[22m[2m)[22m[90m 5[2mms[22m[39m
 [32mâœ“[39m test/services/ai/tokenEstimator.test.ts [2m([22m[2m27 tests[22m[2m)[22m[90m 17[2mms[22m[39m
 [32mâœ“[39m test/services/commandHandler.test.ts [2m([22m[2m34 tests[22m[2m)[22m[90m 35[2mms[22m[39m
 [32mâœ“[39m test/components/AutocompleteInput/lineProcessor.test.ts [2m([22m[2m34 tests[22m[2m)[22m[90m 11[2mms[22m[39m
 [32mâœ“[39m test/models/input.test.ts [2m([22m[2m10 tests[22m[2m)[22m[90m 5[2mms[22m[39m
 [32mâœ“[39m test/services/ai/fileReader.test.ts [2m([22m[2m14 tests[22m[2m)[22m[90m 7[2mms[22m[39m
 [32mâœ“[39m test/services/ai/config.test.ts [2m([22m[2m10 tests[22m[2m)[22m[90m 5[2mms[22m[39m
 [32mâœ“[39m test/components/AutocompleteInput/types.test.ts [2m([22m[2m18 tests[22m[2m)[22m[90m 5[2mms[22m[39m
 [32mâœ“[39m test/utils/platform.test.ts [2m([22m[2m9 tests[22m[2m)[22m[90m 4[2mms[22m[39m
 [32mâœ“[39m test/components/AutocompleteInput/heightCalculator.test.ts [2m([22m[2m14 tests[22m[2m)[22m[90m 5[2mms[22m[39m
 [32mâœ“[39m test/components/AutocompleteInput/hooks/useInputHandler.test.ts [2m([22m[2m28 tests[22m[2m)[22m[90m 13[2mms[22m[39m
 [32mâœ“[39m test/models/inputInstance.test.ts [2m([22m[2m54 tests[22m[2m)[22m[90m 12[2mms[22m[39m
 [32mâœ“[39m test/components/reducer.test.ts [2m([22m[2m70 tests[22m[2m)[22m[90m 18[2mms[22m[39m
 [32mâœ“[39m test/utils/localsettings.test.ts [2m([22m[2m11 tests[22m[2m)[22m[90m 249[2mms[22m[39m
 [32mâœ“[39m test/services/ai/service.test.ts [2m([22m[2m34 tests[22m[2m)[22m[90m 39[2mms[22m[39m
 [32mâœ“[39m test/i18n/index.test.ts [2m([22m[2m21 tests[22m[2m)[22m[90m 26[2mms[22m[39m
 [32mâœ“[39m test/services/ai/messageQueue.test.ts [2m([22m[2m28 tests[22m[2m)[22m[33m 335[2mms[22m[39m
 [32mâœ“[39m test/models/messageGroup.test.ts [2m([22m[2m50 tests[22m[2m)[22m[90m 38[2mms[22m[39m
 [32mâœ“[39m test/utils/config.test.ts [2m([22m[2m37 tests[22m[2m)[22m[33m 473[2mms[22m[39m
 [32mâœ“[39m test/models/richInput.test.ts [2m([22m[2m8 tests[22m[2m)[22m[90m 7[2mms[22m[39m
 [32mâœ“[39m test/constants/prompts.test.ts [2m([22m[2m12 tests[22m[2m)[22m[90m 5[2mms[22m[39m
 [32mâœ“[39m test/utils/appdata.test.ts [2m([22m[2m7 tests[22m[2m)[22m[90m 8[2mms[22m[39m
 [32mâœ“[39m test/utils/logger.test.ts [2m([22m[2m10 tests[22m[2m)[22m[90m 4[2mms[22m[39m
 [32mâœ“[39m test/utils/stdin.test.ts [2m([22m[2m5 tests[22m[2m)[22m[90m 5[2mms[22m[39m
 [32mâœ“[39m test/constants/suggestion.test.ts [2m([22m[2m12 tests[22m[2m)[22m[90m 6[2mms[22m[39m
 [32mâœ“[39m test/constants/models.test.ts [2m([22m[2m6 tests[22m[2m)[22m[90m 6[2mms[22m[39m
 [32mâœ“[39m test/utils/flags.test.ts [2m([22m[2m5 tests[22m[2m)[22m[90m 3[2mms[22m[39m
 [32mâœ“[39m test/components/AutocompleteInput/components/InputLine.test.tsx [2m([22m[2m18 tests[22m[2m)[22m[90m 60[2mms[22m[39m
 [32mâœ“[39m test/components/AutocompleteInput/components/FileMenu.test.tsx [2m([22m[2m15 tests[22m[2m)[22m[90m 92[2mms[22m[39m
 [32mâœ“[39m test/components/AutocompleteInput/components/SlashMenu.test.tsx [2m([22m[2m13 tests[22m[2m)[22m[90m 93[2mms[22m[39m
 [32mâœ“[39m test/hooks/useTerminalHeight.test.tsx [2m([22m[2m2 tests[22m[2m)[22m[90m 17[2mms[22m[39m
 [32mâœ“[39m test/hooks/useTerminalWidth.test.tsx [2m([22m[2m2 tests[22m[2m)[22m[90m 17[2mms[22m[39m
 [32mâœ“[39m test/hooks/useTranslation.test.tsx [2m([22m[2m4 tests[22m[2m)[22m[90m 20[2mms[22m[39m
 [32mâœ“[39m test/components/AutocompleteInput/components/HelpPanel.test.tsx [2m([22m[2m7 tests[22m[2m)[22m[90m 89[2mms[22m[39m
 [32mâœ“[39m test/app.test.tsx [2m([22m[2m3 tests[22m[2m)[22m[90m 48[2mms[22m[39m

[2m Test Files [22m [1m[32m44 passed[39m[22m[90m (44)[39m
[2m      Tests [22m [1m[32m887 passed[39m[22m[90m (887)[39m
[2m   Start at [22m 17:16:32
[2m   Duration [22m 2.86s[2m (transform 5.31s, setup 0ms, collect 14.95s, tests 1.95s, environment 9ms, prepare 9.21s)[22m

[34m % [39m[2mCoverage report from [22m[33mv8[39m
-------------------|---------|----------|---------|---------|-------------------
File               | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
-------------------|---------|----------|---------|---------|-------------------
All files          |   37.49 |    80.93 |   64.34 |   37.49 |                   
 source            |   13.38 |    55.55 |    7.69 |   13.38 |                   
  app.tsx          |   28.67 |    66.66 |      10 |   28.67 | ...73-900,930-948 
  app.tsx          |       0 |        0 |       0 |       0 | 1-1015            
  cli.tsx          |       0 |        0 |       0 |       0 | 1-117             
  mcp-server.ts    |       0 |        0 |       0 |       0 | 1-40              
 source/components |   11.06 |    39.47 |      10 |   11.06 |                   
  Divider.tsx      |     100 |      100 |     100 |     100 |                   
  Divider.tsx      |       0 |        0 |       0 |       0 | 1-7               
  Header.tsx       |   88.88 |        0 |     100 |   88.88 | 33-36             
  Header.tsx       |       0 |        0 |       0 |       0 | 1-42              
  ...ageOutput.tsx |   21.92 |    46.87 |      20 |   21.92 | ...1115,1117-1129 
  ...ageOutput.tsx |       0 |        0 |       0 |       0 | 1-1149            
  Splash.tsx       |       0 |        0 |       0 |       0 | 1-29              
  Welcome.tsx      |       0 |        0 |       0 |       0 | 1-246             
 ...ocompleteInput |   40.51 |    73.33 |   42.85 |   40.51 |                   
  index.tsx        |   62.67 |       40 |       0 |   62.67 | ...11-321,323-326 
  index.tsx        |       0 |        0 |       0 |       0 | 1-333             
  reducer.ts       |   88.49 |    86.15 |     100 |   88.49 | ...28-164,521,573 
  reducer.ts       |       0 |        0 |       0 |       0 | 1-624             
  types.ts         |     100 |      100 |     100 |     100 |                   
  types.ts         |       0 |        0 |       0 |       0 | 1-186             
 ...put/components |      50 |    93.42 |      60 |      50 |                   
  FileMenu.tsx     |     100 |    95.23 |     100 |     100 | 107               
  FileMenu.tsx     |       0 |        0 |       0 |       0 | 1-129             
  HelpPanel.tsx    |     100 |      100 |     100 |     100 |                   
  HelpPanel.tsx    |       0 |        0 |       0 |       0 | 1-102             
  InputLine.tsx    |     100 |      100 |     100 |     100 |                   
  InputLine.tsx    |       0 |        0 |       0 |       0 | 1-276             
  SlashMenu.tsx    |     100 |      100 |     100 |     100 |                   
  SlashMenu.tsx    |       0 |        0 |       0 |       0 | 1-105             
 ...eteInput/hooks |   36.88 |    65.44 |      25 |   36.88 |                   
  ...tocomplete.ts |   57.85 |    27.27 |     100 |   57.85 | ...70-182,199-207 
  ...tocomplete.ts |       0 |        0 |       0 |       0 | 1-210             
  useFileSelect.ts |   81.33 |       60 |     100 |   81.33 | ...07-113,119-124 
  useFileSelect.ts |       0 |        0 |       0 |       0 | 1-128             
  ...putHandler.ts |   77.65 |    77.08 |     100 |   77.65 | ...08-420,457-465 
  ...putHandler.ts |       0 |        0 |       0 |       0 | 1-493             
 ...eteInput/utils |   49.71 |    86.27 |    87.5 |   49.71 |                   
  ...Calculator.ts |   98.52 |       90 |     100 |   98.52 | 111               
  ...Calculator.ts |       0 |        0 |       0 |       0 | 1-131             
  lineProcessor.ts |     100 |    87.17 |     100 |     100 | 45-49,127         
  lineProcessor.ts |       0 |      100 |     100 |       0 | 30-199            
 source/constants  |   49.53 |    86.95 |   78.26 |   49.53 |                   
  colors.ts        |     100 |      100 |     100 |     100 |                   
  colors.ts        |       0 |      100 |     100 |       0 | 7-66              
  commands.ts      |   98.82 |     90.9 |   91.66 |   98.82 | 299,314-315       
  commands.ts      |       0 |        0 |       0 |       0 | 1-318             
  meta.ts          |     100 |      100 |     100 |     100 |                   
  meta.ts          |       0 |      100 |     100 |       0 | 2-3               
  models.ts        |     100 |      100 |     100 |     100 |                   
  models.ts        |       0 |        0 |       0 |       0 | 1-50              
  platform.ts      |     100 |      100 |     100 |     100 |                   
  platform.ts      |       0 |        0 |       0 |       0 | 1-12              
  prompts.ts       |     100 |      100 |     100 |     100 |                   
  prompts.ts       |       0 |      100 |     100 |       0 | 9-65              
  suggestion.ts    |     100 |      100 |     100 |     100 |                   
  suggestion.ts    |       0 |        0 |       0 |       0 | 1-63              
 source/hooks      |   48.27 |    63.63 |      25 |   48.27 |                   
  ...inalHeight.ts |     100 |      100 |     100 |     100 |                   
  ...inalHeight.ts |       0 |        0 |       0 |       0 | 1-24              
  ...minalWidth.ts |     100 |    66.66 |     100 |     100 | 13                
  ...minalWidth.ts |       0 |        0 |       0 |       0 | 1-25              
  ...ranslation.ts |      90 |      100 |     100 |      90 | 41-42             
  ...ranslation.ts |       0 |        0 |       0 |       0 | 1-46              
 source/i18n       |      50 |    86.36 |   83.33 |      50 |                   
  index.ts         |     100 |       90 |     100 |     100 | 78,139            
  index.ts         |       0 |        0 |       0 |       0 | 1-159             
  types.ts         |       0 |        0 |       0 |       0 |                   
  types.ts         |       0 |        0 |       0 |       0 |                   
 source/models     |   49.89 |       96 |   93.61 |   49.89 |                   
  input.ts         |     100 |      100 |     100 |     100 |                   
  input.ts         |       0 |      100 |     100 |       0 | 63-104            
  inputInstance.ts |   99.71 |    97.33 |   97.14 |   99.71 | 474               
  inputInstance.ts |       0 |        0 |       0 |       0 | 1-626             
  messageGroup.ts  |     100 |      100 |     100 |     100 |                   
  messageGroup.ts  |       0 |        0 |       0 |       0 | 1-179             
  richInput.ts     |     100 |      100 |     100 |     100 |                   
  richInput.ts     |       0 |      100 |     100 |       0 | 30-44             
 source/services   |   45.59 |    74.07 |      90 |   45.59 |                   
  ...andHandler.ts |   91.18 |       75 |    93.1 |   91.18 | ...55-356,446-452 
  ...andHandler.ts |       0 |        0 |       0 |       0 | 1-546             
 ...ce/services/ai |   41.38 |    91.52 |   80.14 |   41.38 |                   
  config.ts        |     100 |      100 |     100 |     100 |                   
  config.ts        |       0 |        0 |       0 |       0 | 1-88              
  ...entBuilder.ts |   98.07 |     90.9 |     100 |   98.07 | 143-144           
  ...entBuilder.ts |       0 |        0 |       0 |       0 | 1-210             
  fileReader.ts    |     100 |      100 |     100 |     100 |                   
  fileReader.ts    |       0 |        0 |       0 |       0 | 1-158             
  index.ts         |   32.69 |      100 |       0 |   32.69 | ...56-182,189-190 
  index.ts         |       0 |        0 |       0 |       0 | 1-193             
  messageQueue.ts  |     100 |      100 |     100 |     100 |                   
  messageQueue.ts  |       0 |      100 |     100 |       0 | 105-286           
  service.ts       |   95.22 |    88.23 |     100 |   95.22 | ...66,474-475,517 
  service.ts       |       0 |        0 |       0 |       0 | 1-609             
  session.ts       |     100 |      100 |     100 |     100 |                   
  session.ts       |       0 |        0 |       0 |       0 | 1-618             
  sessionStore.ts  |    93.7 |       90 |     100 |    93.7 | ...06-410,489-494 
  sessionStore.ts  |       0 |        0 |       0 |       0 | 1-528             
  ...tionClient.ts |   27.93 |    83.33 |   35.71 |   27.93 | ...07-337,345-346 
  ...tionClient.ts |       0 |        0 |       0 |       0 | 1-347             
  ...nEstimator.ts |     100 |      100 |     100 |     100 |                   
  ...nEstimator.ts |       0 |      100 |     100 |       0 | 17-165            
  ...ll-handler.ts |   16.23 |      100 |       0 |   16.23 | ...59-136,141-172 
  ...ll-handler.ts |       0 |        0 |       0 |       0 | 1-178             
  types.ts         |       0 |        0 |       0 |       0 |                   
 ...es/ai/adapters |   22.07 |    33.33 |    5.26 |   22.07 |                   
  anthropic.ts     |   34.78 |      100 |       0 |   34.78 | ...19-120,124-201 
  anthropic.ts     |       0 |        0 |       0 |       0 | 1-205             
  index.ts         |     100 |      100 |     100 |     100 |                   
  index.ts         |       0 |        0 |       0 |       0 | 1                 
  openai.ts        |   53.77 |      100 |       0 |   53.77 | ...34-135,166-168 
  openai.ts        |       0 |      100 |     100 |       0 | 17-185            
 ...ces/ai/clients |   47.98 |    75.64 |   77.27 |   47.98 |                   
  anthropic.ts     |   97.31 |    77.66 |      90 |   97.31 | ...11,322-324,429 
  anthropic.ts     |       0 |        0 |       0 |       0 | 1-554             
  index.ts         |       0 |        0 |       0 |       0 | 1                 
  openai.ts        |   94.36 |    75.86 |   88.88 |   94.36 | ...58,360,410-413 
  openai.ts        |       0 |        0 |       0 |       0 | 1-437             
 ...services/tools |   30.95 |    81.63 |   47.05 |   30.95 |                   
  executor.ts      |   21.33 |      100 |       0 |   21.33 | ...10-511,515-552 
  executor.ts      |       0 |        0 |       0 |       0 | 1-577             
  matcher.ts       |   92.94 |    81.53 |     100 |   92.94 | ...08-325,354-370 
  matcher.ts       |       0 |        0 |       0 |       0 | 1-588             
  registry.ts      |     100 |    92.85 |     100 |     100 | 149-151           
  registry.ts      |       0 |        0 |       0 |       0 | 1-183             
  scriptWriter.ts  |   56.33 |      100 |       0 |   56.33 | ...4,50-60,70-107 
  scriptWriter.ts  |       0 |        0 |       0 |       0 | 1-128             
  types.ts         |       0 |        0 |       0 |       0 |                   
 ...ls/discoverers |   45.33 |     42.3 |      25 |   45.33 |                   
  base.ts          |   55.23 |      100 |       0 |   55.23 | ...42-175,181-227 
  base.ts          |       0 |        0 |       0 |       0 | 1-250             
  bash.ts          |     100 |      100 |     100 |     100 |                   
  bash.ts          |       0 |        0 |       0 |       0 | 1-67              
  beyondcompare.ts |     100 |      100 |     100 |     100 |                   
  beyondcompare.ts |       0 |        0 |       0 |       0 | 1-155             
  build.ts         |   88.28 |      100 |      50 |   88.28 | 196-211,217-232   
  build.ts         |       0 |        0 |       0 |       0 | 1-251             
  cmd.ts           |     100 |      100 |     100 |     100 |                   
  cmd.ts           |       0 |        0 |       0 |       0 | 1-60              
  database.ts      |   92.14 |      100 |      50 |   92.14 | 305-320,326-341   
  database.ts      |       0 |        0 |       0 |       0 | 1-360             
  docker.ts        |   94.53 |      100 |      50 |   94.53 | 223-238           
  docker.ts        |       0 |        0 |       0 |       0 | 1-261             
  git.ts           |     100 |      100 |     100 |     100 |                   
  git.ts           |       0 |        0 |       0 |       0 | 1-134             
  index.ts         |     100 |      100 |     100 |     100 |                   
  index.ts         |       0 |        0 |       0 |       0 | 1-74              
  java.ts          |   87.03 |      100 |      50 |   87.03 | 95-111            
  java.ts          |       0 |        0 |       0 |       0 | 1-130             
  node.ts          |   88.88 |      100 |      50 |   88.88 | 165-176,182-193   
  node.ts          |       0 |        0 |       0 |       0 | 1-206             
  powershell.ts    |      86 |      100 |      50 |      86 | 103-118           
  powershell.ts    |       0 |        0 |       0 |       0 | 1-137             
  python.ts        |     100 |      100 |     100 |     100 |                   
  python.ts        |       0 |        0 |       0 |       0 | 1-119             
  visualstudio.ts  |   94.82 |      100 |      50 |   94.82 | 157-169           
  visualstudio.ts  |       0 |        0 |       0 |       0 | 1-199             
  vscode.ts        |     100 |      100 |     100 |     100 |                   
  vscode.ts        |       0 |        0 |       0 |       0 | 1-133             
  web.ts           |     100 |      100 |     100 |     100 |                   
  web.ts           |       0 |      100 |     100 |       0 | 12-38             
 ...ices/tools/mcp |       0 |        0 |       0 |       0 |                   
  inprocess.ts     |       0 |        0 |       0 |       0 | 1-187             
  server.ts        |       0 |        0 |       0 |       0 | 1-201             
 source/utils      |   42.35 |    87.24 |   71.21 |   42.35 |                   
  appdata.ts       |     100 |      100 |     100 |     100 |                   
  appdata.ts       |       0 |        0 |       0 |       0 | 1-69              
  config.ts        |     100 |      100 |     100 |     100 |                   
  config.ts        |       0 |        0 |       0 |       0 | 1-330             
  env.ts           |       0 |      100 |     100 |       0 | 11                
  flags.ts         |     100 |      100 |     100 |     100 |                   
  flags.ts         |       0 |      100 |     100 |       0 | 10-30             
  init.ts          |       0 |        0 |       0 |       0 | 1-49              
  localsettings.ts |     100 |      100 |     100 |     100 |                   
  localsettings.ts |       0 |        0 |       0 |       0 | 1-136             
  logWriter.ts     |    97.1 |    91.11 |     100 |    97.1 | 134,234-241       
  logWriter.ts     |       0 |        0 |       0 |       0 | 1-300             
  logger.ts        |   97.67 |     62.5 |   66.66 |   97.67 | 75                
  logger.ts        |       0 |        0 |       0 |       0 | 1-75              
  platform.ts      |   53.99 |    83.33 |   33.33 |   53.99 | ...10,322,364-383 
  platform.ts      |       0 |        0 |       0 |       0 | 1-391             
  stdin.ts         |     100 |      100 |     100 |     100 |                   
  stdin.ts         |       0 |      100 |     100 |       0 | 8-30              
-------------------|---------|----------|---------|---------|-------------------
